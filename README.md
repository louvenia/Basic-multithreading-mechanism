# Basic-multithreading-mechanism
Проект созданный для изучения многопоточности и реализация программы для скачивания файлов из сети.

## Introduction
- Для написания программ использовалась версия Java 8.
- Отладка кода воспроизводилась на Intellij IDEA CE.
- Правила форматирования кода соответствуют общепринятым стандартам [Oracle](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).

## Contents
1. [Exercise 00](#exercise-00)
2. [Exercise 01](#exercise-01)
3. [Exercise 02](#exercise-02)
4. [Exercise 03](#exercise-03)

### Exercise 00

- Программа расположена в директории: ex00;
- Файл для сдачи: Program.java;
- Типы(+ все методы этого типа): Object, Thread, Runnable.

Для изучения потоков была реализована программа с двумя потоками (Название потоков Egg и Hen). Если запустить программу с аргументом, указывающим количество вывода названия потока, то наблюдается конкуренция между ними.

Каждый из них должен показать свой ответ несколько раз, например, 50:

```
$ java Program --count=50
Egg
Hen
Hen
Hen
...
Egg
```

Так как программа также содержит основной поток. Внутри потока выполняется метод public static void main(String args[]). Для отображения ответов основного потока в конце программы, выполняется создание объектов, предыдущих двух потоков, start и последующий join, перед выводом ответа основного потока (Вывод Human).

Таким образом, окончательный вариант выглядит так:

```
$ java Program --count=50
Egg
Hen
Hen
...
Egg
Hen
...
Human
...
...
Human
```

### Exercise 01

- Программа расположена в директории: ex01;
- Файл для сдачи: Program.java;
- Типы(+ все методы этого типа): Object, Thread, Runnable;
- Использовано ключевое слово: Synchronized.

В данной программе был реализован поочередный вывод ответов двух предыдущих потоков (Egg и Hen) по принципу работы модели Producer-Consumer. Таким образом, каждый поток может предоставить свой ответ только после того, как это сделает другой поток.

Пример работы программы, если поток (Egg) всегда отвечает первым:

```
$ java Program --count=50
Egg
Hen
Egg
Hen
Egg
Hen
...
```

### Exercise 02

- Программа расположена в директории: ex02;
- Файл для сдачи: Program.java;
- Типы(+ все методы этого типа): Object, Thread, Runnable;
- Использовано ключевое слово: Synchronized.

При существующем массиве целочисленных значений реализованная программа высчитывает сумму элементов массива, используя несколько потоков «суммирования». Каждый поток вычисляет определенный раздел внутри массива. Количество элементов в каждом разделе постоянно, кроме последнего (его размер может отличаться в большую или меньшую сторону).

Каждый раз элементы массива генерируются случайным образом, однако максимальное значение по модулю каждого элемента массива составляет 1000. Максимальное количество элементов массива — 2 000 000. Максимальное количество потоков не должно превышать количество элементов массива.

Длина массива и количество потоков передаются в качестве аргументов командной строки.

Первым выводом является сумма элементов массива, вычисленная стандартным образом, для сравнения с суммой элементов, вычисленной потоками (Последний вывод). Сами потоки могут непоследовательно выводит результат вычисления.

Пример работы программы (Если каждый элемент массива равен 1):

```
$ java Program --arraySize=13 --threadsCount=3
Sum: 13
Thread 1: from 0 to 4 sum is 5
Thread 2: from 5 to 9 sum is 5
Thread 3: from 10 to 12 sum is 3
Sum by threads: 13
```

### Exercise 03

- Программа расположена в директории: ex03;
- Файл для сдачи: Program.java;
- Типы(+ все методы этого типа): Object, Thread, Runnable;
- Использовано ключевое слово: Synchronized.

Программа создана для скачивания списка файлов из сети. Для реализации этой функциональности используется многопоточная загрузка, при которой каждый поток загружает определенный файл.

Так как постоянное создание и завершение потоков это дорогостоящая операция, то в данной программе запускается N потоков, которые по очереди скачивают файл и при завершении берут следующий незанятый файл в очереди. Каждый файл загружается только один раз одним потоком.

В файле files_urls.txt (имя файла явно указано в коде программы), находится список URL-адресов файлов для скачивания.

Пример работы программы:

```
$ java Program.java --threadsCount=3
Thread-1 start download file number 1
Thread-2 start download file number 2
Thread-1 finish download file number 1
Thread-1 start download file number 3
Thread-3 start download file number 4
Thread-1 finish download file number 3
Thread-2 finish download file number 2
Thread-1 start download file number 5
Thread-3 finish download file number 4
Thread-1 finish download file number 5
```
